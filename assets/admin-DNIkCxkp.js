import{s as B,c as p,a as se,o as ne,w as R,b as oe,C as ce,u as N,d as ve,e as de,g as me,p as he,f as fe,h as ge,i as ye,j as Z,t as j,k as we,l as pe,m as be,n as ke,q as Se,r as xe,v as Te,x as Ee,y as Ve,z as Pe,A as Me,B as _e,D as Be,E as Ce,F as De,G as Ie,H as Re,I as He,J as Le,K as Ne,L as h,M as G,N as Ye,V as Oe,O as We,T as $e,P as $,Q as Xe,R as ze,S as Ae,U as Fe,W as qe,X as J,Y as E,Z as Ue,_ as Ze,$ as Y,a0 as K,a1 as je,a2 as Ge,a3 as O,a4 as Q,a5 as Je,a6 as Ke,a7 as Qe,a8 as et}from"./index-DmVHqK86.js";import{u as tt,V as ee,a as W}from"./VList-CbSjJOY2.js";import{V as at}from"./VMain-COtiI5Oq.js";import{V as nt}from"./VDivider-CosHWVEo.js";function ot(e){let{rootEl:s,isSticky:o,layoutItemStyles:x}=e;const t=B(!1),u=B(0),a=p(()=>{const y=typeof t.value=="boolean"?"top":t.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[y]:se(u.value)}:{top:x.value.top}]});ne(()=>{R(o,y=>{y?window.addEventListener("scroll",k,{passive:!0}):window.removeEventListener("scroll",k)},{immediate:!0})}),oe(()=>{window.removeEventListener("scroll",k)});let f=0;function k(){const y=f>window.scrollY?"up":"down",c=s.value.getBoundingClientRect(),d=parseFloat(x.value.top??0),m=window.scrollY-Math.max(0,u.value-d),v=c.height+Math.max(u.value,d)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(t.value="top",u.value=d):y==="up"&&t.value==="bottom"||y==="down"&&t.value==="top"?(u.value=window.scrollY+c.top-b,t.value=!0):y==="down"&&v<=0?(u.value=0,t.value="bottom"):y==="up"&&m<=0&&(b?t.value!=="top"&&(u.value=-m+b+d,t.value="top"):(u.value=c.top+m,t.value="top")),f=window.scrollY}return{isStuck:t,stickyStyles:a}}const lt=100,it=20;function te(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ae(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let o=e.length-1;o>0;o--){if(e[o].t===e[o-1].t)continue;const x=te(s),t=(e[o].d-e[o-1].d)/(e[o].t-e[o-1].t);s+=(t-x)*Math.abs(t),o===e.length-1&&(s*=.5)}return te(s)*1e3}function ut(){const e={};function s(t){Array.from(t.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new ce(it))).push([t.timeStamp,u])})}function o(t){Array.from(t.changedTouches).forEach(u=>{delete e[u.identifier]})}function x(t){var y;const u=(y=e[t])==null?void 0:y.values().reverse();if(!u)throw new Error(`No samples for touch id ${t}`);const a=u[0],f=[],k=[];for(const c of u){if(a[0]-c[0]>lt)break;f.push({t:c[0],d:c[1].clientX}),k.push({t:c[0],d:c[1].clientY})}return{x:ae(f),y:ae(k),get direction(){const{x:c,y:d}=this,[m,v]=[Math.abs(c),Math.abs(d)];return m>v&&c>=0?"right":m>v&&c<=0?"left":v>m&&d>=0?"down":v>m&&d<=0?"up":rt()}}}return{addMovement:s,endTouch:o,getVelocity:x}}function rt(){throw new Error}function st(e){let{el:s,isActive:o,isTemporary:x,width:t,touchless:u,position:a}=e;ne(()=>{window.addEventListener("touchstart",P,{passive:!0}),window.addEventListener("touchmove",V,{passive:!1}),window.addEventListener("touchend",H,{passive:!0})}),oe(()=>{window.removeEventListener("touchstart",P),window.removeEventListener("touchmove",V),window.removeEventListener("touchend",H)});const f=p(()=>["left","right"].includes(a.value)),{addMovement:k,endTouch:y,getVelocity:c}=ut();let d=!1;const m=B(!1),v=B(0),b=B(0);let T;function C(n,l){return(a.value==="left"?n:a.value==="right"?document.documentElement.clientWidth-n:a.value==="top"?n:a.value==="bottom"?document.documentElement.clientHeight-n:_())-(l?t.value:0)}function D(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=a.value==="left"?(n-b.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-n-b.value)/t.value:a.value==="top"?(n-b.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-n-b.value)/t.value:_();return l?Math.max(0,Math.min(1,i)):i}function P(n){if(u.value)return;const l=n.changedTouches[0].clientX,i=n.changedTouches[0].clientY,r=25,w=a.value==="left"?l<r:a.value==="right"?l>document.documentElement.clientWidth-r:a.value==="top"?i<r:a.value==="bottom"?i>document.documentElement.clientHeight-r:_(),g=o.value&&(a.value==="left"?l<t.value:a.value==="right"?l>document.documentElement.clientWidth-t.value:a.value==="top"?i<t.value:a.value==="bottom"?i>document.documentElement.clientHeight-t.value:_());(w||g||o.value&&x.value)&&(T=[l,i],b.value=C(f.value?l:i,o.value),v.value=D(f.value?l:i),d=b.value>-20&&b.value<80,y(n),k(n))}function V(n){const l=n.changedTouches[0].clientX,i=n.changedTouches[0].clientY;if(d){if(!n.cancelable){d=!1;return}const w=Math.abs(l-T[0]),g=Math.abs(i-T[1]);(f.value?w>g&&w>3:g>w&&g>3)?(m.value=!0,d=!1):(f.value?g:w)>3&&(d=!1)}if(!m.value)return;n.preventDefault(),k(n);const r=D(f.value?l:i,!1);v.value=Math.max(0,Math.min(1,r)),r>1?b.value=C(f.value?l:i,!0):r<0&&(b.value=C(f.value?l:i,!1))}function H(n){if(d=!1,!m.value)return;k(n),m.value=!1;const l=c(n.changedTouches[0].identifier),i=Math.abs(l.x),r=Math.abs(l.y);(f.value?i>r&&i>400:r>i&&r>3)?o.value=l.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||_()):o.value=v.value>.5}const I=p(()=>m.value?{transform:a.value==="left"?`translateX(calc(-100% + ${v.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${v.value*t.value}px))`:a.value==="top"?`translateY(calc(-100% + ${v.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${v.value*t.value}px))`:_(),transition:"none"}:void 0);return N(m,()=>{var i,r;const n=((i=s.value)==null?void 0:i.style.transform)??null,l=((r=s.value)==null?void 0:r.style.transition)??null;ve(()=>{var w,g,M,L;(g=s.value)==null||g.style.setProperty("transform",((w=I.value)==null?void 0:w.transform)||"none"),(L=s.value)==null||L.style.setProperty("transition",((M=I.value)==null?void 0:M.transition)||null)}),de(()=>{var w,g;(w=s.value)==null||w.style.setProperty("transform",n),(g=s.value)==null||g.style.setProperty("transition",l)})}),{isDragging:m,dragProgress:v,dragStyles:I}}function _(){throw new Error}const ct=["start","end","left","right","top","bottom"],vt=he({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ct.includes(e)},sticky:Boolean,...Ne(),...Le(),...He(),...Re({mobile:null}),...Ie(),...De(),...Ce(),...Be({tag:"nav"}),..._e()},"VNavigationDrawer"),dt=me()({name:"VNavigationDrawer",props:vt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:o,emit:x,slots:t}=s;const{isRtl:u}=fe(),{themeClasses:a}=ge(e),{borderClasses:f}=ye(e),{backgroundColorClasses:k,backgroundColorStyles:y}=Z(j(e,"color")),{elevationClasses:c}=we(e),{displayClasses:d,mobile:m}=pe(e),{roundedClasses:v}=be(e),b=ke(),T=Se(e,"modelValue",null,S=>!!S),{ssrBootStyles:C}=tt(),{scopeId:D}=xe(),P=Te(),V=B(!1),{runOpenDelay:H,runCloseDelay:I}=Ye(e,S=>{V.value=S}),n=p(()=>e.rail&&e.expandOnHover&&V.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),l=p(()=>Ee(e.location,u.value)),i=p(()=>e.persistent),r=p(()=>!e.permanent&&(m.value||e.temporary)),w=p(()=>e.sticky&&!r.value&&l.value!=="bottom");N(()=>e.expandOnHover&&e.rail!=null,()=>{R(V,S=>x("update:rail",!S))}),N(()=>!e.disableResizeWatcher,()=>{R(r,S=>!e.permanent&&Xe(()=>T.value=!S))}),N(()=>!e.disableRouteWatcher&&!!b,()=>{R(b.currentRoute,()=>r.value&&(T.value=!1))}),R(()=>e.permanent,S=>{S&&(T.value=!0)}),e.modelValue==null&&!r.value&&(T.value=e.permanent||!m.value);const{isDragging:g,dragProgress:M}=st({el:P,isActive:T,isTemporary:r,width:n,touchless:j(e,"touchless"),position:l}),L=p(()=>{const S=r.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):n.value;return g.value?S*M.value:S}),le=p(()=>["top","bottom"].includes(e.location)?0:n.value),{layoutItemStyles:X,layoutItemScrimStyles:ie}=Ve({id:e.name,order:p(()=>parseInt(e.order,10)),position:l,layoutSize:L,elementSize:le,active:p(()=>T.value||g.value),disableTransitions:p(()=>g.value),absolute:p(()=>e.absolute||w.value&&typeof z.value!="string")}),{isStuck:z,stickyStyles:ue}=ot({rootEl:P,isSticky:w,layoutItemStyles:X}),A=Z(p(()=>typeof e.scrim=="string"?e.scrim:null)),re=p(()=>({...g.value?{opacity:M.value*.2,transition:"none"}:void 0,...ie.value}));return Pe({VList:{bgColor:"transparent"}}),Me(()=>{const S=t.image||e.image;return h($,null,[h(e.tag,G({ref:P,onMouseenter:H,onMouseleave:I,class:["v-navigation-drawer",`v-navigation-drawer--${l.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":V.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":r.value,"v-navigation-drawer--persistent":i.value,"v-navigation-drawer--active":T.value,"v-navigation-drawer--sticky":w.value},a.value,k.value,f.value,d.value,c.value,v.value,e.class],style:[y.value,X.value,C.value,ue.value,e.style,["top","bottom"].includes(l.value)?{height:"auto"}:{}]},D,o),{default:()=>{var F,q,U;return[S&&h("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?h(We,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):h(Oe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&h("div",{class:"v-navigation-drawer__prepend"},[(F=t.prepend)==null?void 0:F.call(t)]),h("div",{class:"v-navigation-drawer__content"},[(q=t.default)==null?void 0:q.call(t)]),t.append&&h("div",{class:"v-navigation-drawer__append"},[(U=t.append)==null?void 0:U.call(t)])]}}),h($e,{name:"fade-transition"},{default:()=>[r.value&&(g.value||T.value)&&!!e.scrim&&h("div",G({class:["v-navigation-drawer__scrim",A.backgroundColorClasses.value],style:[re.value,A.backgroundColorStyles.value],onClick:()=>{i.value||(T.value=!1)}},D),null)]})])}),{isStuck:z}}}),mt={class:"pa-2"},wt={__name:"admin",setup(e){const s=ze(),{t:o}=Ae(),x=Fe(),{apiAuth:t}=et(),u=qe(),a=Ue(),f=p(()=>[{to:"/admin/profile",text:o("nav.adminProfile"),icon:"mdi-account-circle"},{to:"/admin/products",text:o("nav.adminProducts"),icon:"mdi-shopping"},{to:"/admin/orders",text:o("nav.adminOrders"),icon:"mdi-format-list-bulleted"},{to:"/",text:o("nav.home"),icon:"mdi-home"}]),k=async()=>{try{await t.delete("/user/logout")}catch(c){console.log(c)}s.logout(),u({text:o("logout.success"),snackbarProps:{color:"green"}}),a.push("/")};function y(){x.global.name.value=x.global.current.value.dark?"light":"dark"}return(c,d)=>{const m=Ze("router-view");return Y(),J($,null,[h(dt,{permanent:""},{append:E(()=>[Ke("div",mt,[h(Qe,{"prepend-icon":"mdi-account-arrow-right",block:"",color:"lime-lighten-1",onClick:k},{default:E(()=>[O(Q(c.$t("nav.logout")),1)]),_:1})])]),default:E(()=>[h(ee,null,{default:E(()=>[h(W,{"prepend-avatar":K(s).avatar,title:K(s).account},null,8,["prepend-avatar","title"])]),_:1}),h(nt),h(ee,null,{default:E(()=>[(Y(!0),J($,null,je(f.value,v=>(Y(),Ge(W,{key:v.to,"prepend-icon":v.icon,title:v.text,to:v.to},null,8,["prepend-icon","title","to"]))),128)),h(W,{onClick:y},{prepend:E(()=>[h(Je,null,{default:E(()=>d[0]||(d[0]=[O("mdi-theme-light-dark")])),_:1})]),default:E(()=>[O(" "+Q(c.$t("nav.switch")),1)]),_:1})]),_:1})]),_:1}),h(at,null,{default:E(()=>[h(m)]),_:1})],64)}}};export{wt as default};
