import{b as _}from"./route-block-B_A1xBdJ.js";import{g as ne,p as ue,aa as oe,q as ie,aM as L,aN as se,c as f,aO as q,v as m,w as re,A as de,aP as ce,aQ as j,aR as fe,L as a,P,aS as me,aT as ve,M as S,aA as pe,aU as Ve,aV as ye,Q as ge,aW as Ce,a2 as A,$ as h,Y as r,aG as ke,aH as be,a3 as w,aI as Ie,ap as Fe,V as Pe,a5 as Se,aE as R,aJ as Ae,al as he,a7 as we}from"./index-DmVHqK86.js";import{a as Re,b as E,V as ze}from"./VRow-w2TbxwqS.js";import{V as Be}from"./VChip-BOb5jj0S.js";import{V as xe}from"./VForm-Cl_C5upl.js";import{V as Ue}from"./VTextarea-DBfLbMie.js";const Me=ue({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...ye({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>L(e).every(u=>u!=null&&typeof u=="object")},...Ve({clearable:!0})},"VFileInput"),Ne=ne()({name:"VFileInput",inheritAttrs:!1,props:Me(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:v,emit:p,slots:s}=u;const{t:C}=oe(),i=ie(e,"modelValue",e.modelValue,l=>L(l),l=>!e.multiple&&Array.isArray(l)?l[0]:l),{isFocused:t,focus:o,blur:b}=se(e),z=f(()=>typeof e.showSize!="boolean"?e.showSize:void 0),B=f(()=>(i.value??[]).reduce((l,n)=>{let{size:V=0}=n;return l+V},0)),x=f(()=>q(B.value,z.value)),I=f(()=>(i.value??[]).map(l=>{const{name:n="",size:V=0}=l;return e.showSize?`${n} (${q(V,z.value)})`:n})),O=f(()=>{var n;const l=((n=i.value)==null?void 0:n.length)??0;return e.showSize?C(e.counterSizeString,l,x.value):C(e.counterString,l)}),U=m(),M=m(),d=m(),Q=f(()=>t.value||e.active),N=f(()=>["plain","underlined"].includes(e.variant));function F(){var l;d.value!==document.activeElement&&((l=d.value)==null||l.focus()),t.value||o()}function G(l){var n;(n=d.value)==null||n.click()}function H(l){p("mousedown:control",l)}function J(l){var n;(n=d.value)==null||n.click(),p("click:control",l)}function W(l){l.stopPropagation(),F(),ge(()=>{i.value=[],Ce(e["onClick:clear"],l)})}return re(i,l=>{(!Array.isArray(l)||!l.length)&&d.value&&(d.value.value="")}),de(()=>{const l=!!(s.counter||e.counter),n=!!(l||s.details),[V,Y]=ce(v),{modelValue:$e,...K}=j.filterProps(e),X=fe(e);return a(j,S({ref:U,modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":N.value},e.class],style:e.style,"onClick:prepend":G},V,K,{centerAffix:!N.value,focused:t.value}),{...s,default:y=>{let{id:k,isDisabled:g,isDirty:T,isReadonly:$,isValid:Z}=y;return a(ve,S({ref:M,"prepend-icon":e.prependIcon,onMousedown:H,onClick:J,"onClick:clear":W,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},X,{id:k.value,active:Q.value||T.value,dirty:T.value||e.dirty,disabled:g.value,focused:t.value,error:Z.value===!1}),{...s,default:ee=>{var D;let{props:{class:le,...ae}}=ee;return a(P,null,[a("input",S({ref:d,type:"file",readonly:$.value,disabled:g.value,multiple:e.multiple,name:e.name,onClick:c=>{c.stopPropagation(),$.value&&c.preventDefault(),F()},onChange:c=>{if(!c.target)return;const te=c.target;i.value=[...te.files??[]]},onFocus:F,onBlur:b},ae,Y),null),a("div",{class:le},[!!((D=i.value)!=null&&D.length)&&!e.hideInput&&(s.selection?s.selection({fileNames:I.value,totalBytes:B.value,totalBytesReadable:x.value}):e.chips?I.value.map(c=>a(Be,{key:c,size:"small",text:c},null)):I.value.join(", "))])])}})},details:n?y=>{var k,g;return a(P,null,[(k=s.details)==null?void 0:k.call(s,y),l&&a(P,null,[a("span",null,null),a(me,{active:!!((g=i.value)!=null&&g.length),value:O.value,disabled:e.disabled},s.counter)])])}:void 0})}),pe({},U,M,d)}}),Te={__name:"profile",setup(e){const u=m({name:"",phone:"",email:"",address:""}),v=m(null),p=m(null),s=i=>{const t=i.target.files[0];if(t){const o=new FileReader;o.onload=b=>{v.value=b.target.result},o.readAsDataURL(t)}},C=()=>{console.log("Saving profile",u.value)};return(i,t)=>(h(),A(ze,null,{default:r(()=>[a(ke,{class:"pa-6",elevation:"3"},{default:r(()=>[a(be,null,{default:r(()=>t[5]||(t[5]=[w("管理員個人資料")])),_:1}),a(Ie,null,{default:r(()=>[a(Re,null,{default:r(()=>[a(E,{cols:"12",md:"4",class:"text-center"},{default:r(()=>[a(Fe,{size:"120"},{default:r(()=>[v.value?(h(),A(Pe,{key:0,src:v.value,alt:"Profile Picture"},null,8,["src"])):(h(),A(Se,{key:1,size:"120"},{default:r(()=>t[6]||(t[6]=[w("mdi-account-circle")])),_:1}))]),_:1}),a(Ne,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),label:"上傳圖片",accept:"image/*",onChange:s},null,8,["modelValue"])]),_:1}),a(E,{cols:"12",md:"8"},{default:r(()=>[a(xe,{ref:"profileForm"},{default:r(()=>[a(R,{modelValue:u.value.name,"onUpdate:modelValue":t[1]||(t[1]=o=>u.value.name=o),label:"姓名",required:""},null,8,["modelValue"]),a(R,{modelValue:u.value.phone,"onUpdate:modelValue":t[2]||(t[2]=o=>u.value.phone=o),label:"電話",required:""},null,8,["modelValue"]),a(R,{modelValue:u.value.email,"onUpdate:modelValue":t[3]||(t[3]=o=>u.value.email=o),label:"電子郵件",type:"email",required:""},null,8,["modelValue"]),a(Ue,{modelValue:u.value.address,"onUpdate:modelValue":t[4]||(t[4]=o=>u.value.address=o),label:"地址"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1})]),_:1}),a(Ae,null,{default:r(()=>[a(he),a(we,{color:"primary",onClick:C},{default:r(()=>t[7]||(t[7]=[w("儲存")])),_:1})]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(Te);export{Te as default};
