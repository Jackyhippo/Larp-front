import{_ as I,a2 as S,$ as b,Y as l,L as e,V as M,aT as _,a3 as o,a4 as r,aY as c,a5 as f,aU as A,a6 as D,aS as F,v as i,c as x,X as R,aQ as Y,P as $,a1 as G,M as Q,a8 as X}from"./index-Cm7_cx15.js";import{b as w}from"./route-block-B_A1xBdJ.js";import{a as j,b as s,V as q}from"./VRow-CKhcj0fS.js";import{V as y}from"./VSelect-D9e9B6m0.js";import{V as z}from"./VPagination-DJGvyzdT.js";import"./VList-DWF9D-pQ.js";import"./VDivider-CXKQV0dB.js";import"./VMenu-dzlEDb9I.js";import"./VCheckboxBtn-DOy8uNY-.js";const H={__name:"ProductCard",props:{_id:{type:String,default:""},name:{type:String,default:""},price:{type:Number,default:0},image:{type:String,default:""},description:{type:String,default:""},category:{type:String,default:""},difficulty:{type:String,default:""},players:{type:Number,default:0},location:{type:String,default:""}},setup(u){return(k,t)=>{const m=I("router-link");return b(),S(F,null,{default:l(()=>[e(M,{src:u.image,height:"200",cover:""},null,8,["src"]),e(_,null,{default:l(()=>[e(m,{to:"/product/"+u._id},{default:l(()=>[o(r(u.name),1)]),_:1},8,["to"])]),_:1}),e(c,null,{default:l(()=>[e(f,null,{default:l(()=>t[0]||(t[0]=[o("mdi-bookshelf")])),_:1}),o(" "+r(u.category),1)]),_:1}),e(c,null,{default:l(()=>[e(f,null,{default:l(()=>t[1]||(t[1]=[o("mdi-currency-usd")])),_:1}),o(" "+r(u.price),1)]),_:1}),e(c,null,{default:l(()=>[e(f,null,{default:l(()=>t[2]||(t[2]=[o("mdi-head-lightbulb")])),_:1}),o(" "+r(u.difficulty),1)]),_:1}),e(c,null,{default:l(()=>[e(f,null,{default:l(()=>t[3]||(t[3]=[o("mdi-account-group")])),_:1}),o(" "+r(u.players),1)]),_:1}),e(c,null,{default:l(()=>[e(f,null,{default:l(()=>t[4]||(t[4]=[o("mdi-map-marker")])),_:1}),o(" "+r(u.location),1)]),_:1}),e(A,null,{default:l(()=>[D("span",null,r(u.description&&u.description.length>20?u.description.substring(0,20)+"...":u.description),1)]),_:1})]),_:1})}}},P=9,J={__name:"larpword",setup(u){const{api:k}=X(),t=i(1),m=i([]),C=i(""),p=i(null),g=i(null),V=i(null),v=i(null),U=["台北市","新北市","桃園市","新竹縣/市","台中市","台南市","高雄市"],T=["硬核推理","情感沈浸","恐怖驚悚","機制陣營","歡樂搞笑","真相還原"],N=["新手入門","新手進階","中等難度","中等偏難","高手挑戰"],B=["3人","4人","5人","6人","7人","8人","9人","10人以上"],E=x(()=>Math.ceil(m.value.length/P)),L=x(()=>m.value.filter(d=>(!p.value||d.location===p.value)&&(!g.value||d.category===g.value)&&(!V.value||d.difficulty===V.value)&&(!v.value||d.players===v.value)&&d.name.toLowerCase().includes(C.value.toLowerCase())).slice((t.value-1)*P,t.value*P));return(async()=>{try{const{data:d}=await k.get("/product");m.value.push(...d.result)}catch(d){console.log(d)}})(),(d,n)=>(b(),S(q,{width:"80%"},{default:l(()=>[e(j,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(Y,{modelValue:C.value,"onUpdate:modelValue":n[0]||(n[0]=a=>C.value=a),"prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"3"},{default:l(()=>[e(y,{modelValue:p.value,"onUpdate:modelValue":n[1]||(n[1]=a=>p.value=a),"prepend-inner-icon":"mdi-map",items:U,label:"選擇縣市",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"3"},{default:l(()=>[e(y,{modelValue:g.value,"onUpdate:modelValue":n[2]||(n[2]=a=>g.value=a),"prepend-inner-icon":"mdi-bookshelf",items:T,label:"選擇類型",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"3"},{default:l(()=>[e(y,{modelValue:V.value,"onUpdate:modelValue":n[3]||(n[3]=a=>V.value=a),"prepend-inner-icon":"mdi-head-lightbulb",items:N,label:"選擇難度",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"3"},{default:l(()=>[e(y,{modelValue:v.value,"onUpdate:modelValue":n[4]||(n[4]=a=>v.value=a),"prepend-inner-icon":"mdi-account-group",items:B,label:"選擇人數",clearable:""},null,8,["modelValue"])]),_:1}),(b(!0),R($,null,G(L.value,a=>(b(),S(s,{key:a._id,cols:"12",md:"6",lg:"4"},{default:l(()=>[e(H,Q({ref_for:!0},a),null,16)]),_:2},1024))),128)),e(s,{cols:"12"},{default:l(()=>[e(z,{modelValue:t.value,"onUpdate:modelValue":n[5]||(n[5]=a=>t.value=a),length:E.value,color:"success"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};typeof w=="function"&&w(J);export{J as default};
